(function(e){function t(t){for(var a,o,i=t[0],u=t[1],c=t[2],m=0,d=[];m<i.length;m++)o=i[m],s[o]&&d.push(s[o][0]),s[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var u=n[i];0!==s[u]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},s={1:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;r.push([10,0]),n()})({"+LvA":function(e,t,n){},10:function(e,t,n){e.exports=n("Vtdi")},"8R+T":function(e,t,n){},Bl70:function(e,t,n){},Czqe:function(e,t,n){"use strict";var a=n("buu/"),s=n.n(a);s.a},F1Gw:function(e,t,n){},K9bG:function(e,t,n){"use strict";var a=n("F1Gw"),s=n.n(a);s.a},KUGM:function(e,t,n){"use strict";var a=n("sP3h"),s=n.n(a);s.a},Vtdi:function(e,t,n){"use strict";n.r(t);n("VRzm");var a=n("Kw5r"),s=n("Q/mQ"),r=n.n(s),o=(n("Ud79"),n("4JRs"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-wcontainer"},[n("router-view")],1)}),i=[],u=(n("ZL7j"),n("KHd+")),c={},l=Object(u["a"])(c,o,i,!1,null,null,null),m=l.exports,d=n("jE9Z"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-app",{attrs:{"md-mode":"reveal"}},[n("md-app-toolbar",{staticClass:"md-large"},[n("div",{staticClass:"md-toolbar-row"}),n("div",{staticClass:"md-toolbar-row"},[n("span",{staticClass:"md-title title"},[e._v("\n        Peoples\n      ")]),n("router-link",{attrs:{to:"/human"}},[e._v("\n        Add member\n      ")])],1)]),n("md-app-content",[n("people-list",{attrs:{apiUrl:e.apiUrl,peoples:e.humans.members},on:{"press-person":e.onPressPerson}}),n("people-items",{attrs:{title:"Strangers",apiUrl:e.apiUrl,peoples:e.humans.strangers},on:{"press-person":e.onPressPerson}})],1)],1)},h=[],f=(n("rGqo"),n("ls82"),n("MECJ")),v=n("oyJW"),g=n("xmWZ"),b=n("3Aqn"),y=n("qpph"),_=n("0yhX"),C=n("EdlT"),P=n("EINm"),j=n("yT7P"),w=n("vDqi"),O=n.n(w),F=function(){function e(){Object(g["a"])(this,e),Object(v["a"])(this,"plural","")}return Object(y["a"])(e,[{key:"getAll",value:function(){return this.request("get",this.plural)}},{key:"create",value:function(e){var t={data:e};return this.request("post","".concat(this.plural),t)}},{key:"getById",value:function(e){return this.request("get","".concat(this.plural,"/").concat(e))}},{key:"updateById",value:function(e,t){var n={data:t};return this.request("patch","".concat(this.plural,"/").concat(e),n)}},{key:"deleteById",value:function(e){return this.request("delete","".concat(this.plural,"/").concat(e))}},{key:"request",value:function(e,t,n){return O()(Object(j["a"])({url:"".concat(this.constructor.url).concat(t),method:e},n)).then(function(e){return e.data})}}]),e}();Object(v["a"])(F,"url","".concat("http://158.255.4.173",":").concat("5000"));var H,k,$=function(e){function t(){var e,n,a;Object(g["a"])(this,t);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return Object(_["a"])(a,(n=a=Object(_["a"])(this,(e=Object(C["a"])(t)).call.apply(e,[this].concat(r))),Object(v["a"])(Object(P["a"])(Object(P["a"])(a)),"plural","/humans"),n))}return Object(y["a"])(t,[{key:"getFaces",value:function(e){return this.request("get","".concat(this.plural,"/").concat(e,"/faces"))}},{key:"uploadFace",value:function(e,t){var n={data:t};return this.request("put","".concat(this.plural,"/").concat(e,"/faces"),n)}},{key:"mergeHuman",value:function(e,t){var n={data:t};return this.request("post","".concat(this.plural,"/").concat(e,"/merge"),n)}}]),Object(b["a"])(t,e),t}(F),x=new $,U={getHumans:"modules/humans/getHumans"},I={getHumans:"moudles/humans/GET_HUMANS"},M={state:{list:[]},mutations:Object(v["a"])({},I.getHumans,function(e,t){e.list=t}),actions:Object(v["a"])({},U.getHumans,function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.getAll();case 2:n=e.sent,t.commit(I.getHumans,n);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),getters:{humans:function(e){var t={members:[],strangers:[]};return e.list.forEach(function(e){0!==e.type?t.strangers.push(e):t.members.push(e)}),t}}},S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-list",[n("md-subheader",{staticClass:"list-title"},[e._v("Members")]),e._l(e.peoples,function(t){return n("md-list-item",{key:t.id,on:{click:function(n){e.onPressPerson(t)}}},[n("md-avatar",[n("img",{attrs:{src:""+e.apiUrl+t.face,alt:"People"}})]),n("div",{staticClass:"md-list-item-text"},[n("span",[e._v(e._s(t.name))]),n("span",[e._v(e._s(t.description))])]),n("md-button",{staticClass:"md-icon-button md-list-action"},[n("md-icon",{staticClass:"md-primary"},[e._v("navigate_next")])],1)],1)})],2)},A=[],N={name:"HumansList",props:{peoples:Array,apiUrl:String},methods:{onPressPerson:function(e){this.$emit("press-person",e)}}},E=N,R=Object(u["a"])(E,S,A,!1,null,null,null),D=R.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.title?n("md-subheader",{staticClass:"list-title"},[e._v(e._s(e.title))]):e._e(),n("div",{staticClass:"photo-items"},e._l(e.peoples,function(t){return n("div",{key:t.id,staticClass:"photo-item",on:{click:function(n){e.onPressPerson(t)}}},[n("md-avatar",{class:e.avatarClasses},[n("img",{attrs:{src:""+e.apiUrl+t.face,alt:"People"}})]),e.useNames?n("div",{staticClass:"photo-title"},[e._v("\n        "+e._s(t.name)+"\n      ")]):e._e()],1)}))],1)},T=[],B={name:"HumansList",props:{title:String,peoples:Array,apiUrl:String,useNames:Boolean,avatarClasses:{type:Array,default:function(){return[]}}},methods:{onPressPerson:function(e){this.$emit("press-person",e)}}},L=B,G=(n("jZCP"),Object(u["a"])(L,q,T,!1,null,null,null)),Z=G.exports,J={name:"home",created:function(){this.$store.dispatch(U.getHumans)},computed:{humans:function(){return this.$store.getters.humans},apiUrl:function(){return this.$store.getters.apiUrl}},methods:{onPressPerson:function(e){this.$router.push("/human/".concat(e.id))}},components:{PeopleList:D,PeopleItems:Z}},K=J,z=(n("K9bG"),Object(u["a"])(K,p,h,!1,null,null,null)),V=z.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-app",{attrs:{"md-mode":"reveal"}},[n("md-app-toolbar",[n("div",{staticClass:"md-toolbar-row"},[n("custom-header",{attrs:{rightMenuItems:e.rightMenu},on:{"press-before":e.onPressBack,"press-right--menu":e.onPressMenu}})],1)]),n("md-app-content",{ref:"content"},[e.humanLoading?n("md-progress-bar",{staticClass:"human-progress",attrs:{"md-mode":"indeterminate"}}):e._e(),!1===e.humanFinded?n("md-empty-state",{attrs:{"md-icon":"priority_high","md-label":"Person not found","md-description":"You can try open another person."}},[n("md-button",{staticClass:"md-primary md-raised",on:{click:e.onPressBack}},[e._v("Go back")])],1):e._e(),!0===e.humanFinded?n("div",[n("div",{staticClass:"md-layout avatar-section"},[n("md-avatar",{staticClass:"large"},[n("img",{attrs:{src:""+e.apiUrl+e.human.info.face,alt:"People"}})]),n("div",{staticClass:"md-layout-item edit-avatar"},[n("file-uploader",{attrs:{text:"Edit"},on:{"load-file":e.uploadFace}})],1)],1),n("div",{staticClass:"md-layout"},[n("div",{staticClass:"md-layout-item"},[n("md-field",[n("label",[e._v("Name")]),n("md-input",{model:{value:e.humanName,callback:function(t){e.humanName=t},expression:"humanName"}}),1===e.human.info.type?n("md-button",{staticClass:"md-icon-button md-primary",on:{click:function(t){e.openDialogMembers=!0}}},[n("md-icon",[e._v("add")])],1):e._e()],1)],1)]),n("photo-gallery",{attrs:{apiUrl:e.apiUrl,faces:e.human.humanFaces,selectedFaces:e.selectedFaces},on:{"update:selectedFaces":function(t){e.selectedFaces=t}}}),n("md-snackbar",{attrs:{"md-duration":1e3,"md-active":e.snackbar.show,"md-persistent":""},on:{"update:mdActive":function(t){e.$set(e.snackbar,"show",t)}}},[n("span",[e._v(e._s(e.snackbar.message))])]),n("md-snackbar",{attrs:{"md-duration":1/0,"md-active":e.selectedFaces.length>0,"md-persistent":""}},[n("span",[e._v("Drop "+e._s(e.selectedFaces.length)+" photos?")]),n("div",[n("md-button",{staticClass:"md-primary",on:{click:e.onCancelDropPhotos}},[e._v("Cancel")]),n("md-button",{staticClass:"md-accent",on:{click:e.onConfirmDropPhotos}},[e._v("Delete")])],1)]),n("human-selector-popup",{attrs:{dialog:e.openDialogMembers,members:e.humans.members,apiUrl:e.apiUrl},on:{"press-person":e.onPressMember,"update:dialog":function(t){e.openDialogMembers=t}}}),n("md-dialog-confirm",{attrs:{"md-active":e.confirm.show,"md-title":"Are you sure?","md-content":e.confirm.message,"md-confirm-text":"Yes","md-cancel-text":"No"},on:{"update:mdActive":function(t){e.$set(e.confirm,"show",t)},"md-cancel":e.onCancelConfirm,"md-confirm":e.onConfirm}})],1):e._e()],1)],1)},Y=[],Q=(n("yt8O"),n("f3/d"),n("pIFo"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"md-toolbar-row"},[n("md-button",{staticClass:"md-icon-button md-list-action",on:{click:e.onPressBefore}},[n("md-icon",{staticClass:"md-primary"},[e._v("navigate_before")])],1),n("div",{staticClass:"md-toolbar-section-end"},[n("md-menu",{attrs:{"md-direction":"bottom-start"}},[n("md-button",{staticClass:"md-icon-button md-primary",attrs:{"md-menu-trigger":""}},[n("md-icon",{staticClass:"md-primary"},[e._v("more_horiz")])],1),n("md-menu-content",e._l(e.rightMenuItems,function(t){return n("md-menu-item",{key:t.value,on:{click:function(n){e.onPressMenu(t)}}},[e._v("\n          "+e._s(t.label)+"\n        ")])}))],1)],1)],1)}),X=[],ee={name:"Header",props:{rightMenuItems:Array},methods:{onPressBefore:function(){this.$emit("press-before")},onPressMenu:function(e){this.$emit("press-right--menu",e.value)}}},te=ee,ne=Object(u["a"])(te,Q,X,!1,null,null,null),ae=ne.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-uploader"},[n("md-button",{staticClass:"md-primary upload-file-button"},[n("label",{attrs:{for:"file-uploader"}},[e._v("\n      "+e._s(e.text)+"\n      "),n("input",{attrs:{name:"file-uploader",id:"file-uploader",type:"file",accept:e.accept},on:{input:e.onInputFile}})])])],1)},re=[],oe=n("k5N+"),ie={name:"FileUploader",props:{text:String,accept:{type:String,default:"image/png,image/jpeg"}},methods:{onInputFile:function(e){var t=this,n=e.target.files;if(n&&n[0]){var a=Object(oe["a"])(n,1),s=a[0];this.readFile(s).then(function(e){t.$emit("load-file",{file:s,fileUri:e})})}},readFile:function(e){return new Promise(function(t,n){var a=new FileReader;a.addEventListener("loadend",function(e){t(e.target.result)}),a.addEventListener("onerror",function(e){n(e)}),a.readAsDataURL(e)})}}},ue=ie,ce=(n("ltqR"),Object(u["a"])(ue,se,re,!1,null,null,null)),le=ce.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-dialog",{staticClass:"members-list",attrs:{"md-active":e.dialog},on:{"update:mdActive":e.onChangeActive}},[n("md-dialog-content",[n("md-subheader",{staticClass:"human-selector-popup-header"},[n("span",{staticClass:"human-selector-popup-header-title"},[e._v("Who's in this photos?")]),n("md-button",{staticClass:"md-icon-button md-raised",on:{click:function(t){e.onChangeActive(!1)}}},[n("md-icon",[e._v("close")])],1)],1),n("people-items",{attrs:{avatarClasses:["md-large"],useNames:!0,apiUrl:e.apiUrl,peoples:e.members},on:{"press-person":e.onPressPerson}})],1)],1)},de=[],pe={props:{dialog:Boolean,members:Array,apiUrl:String},methods:{onChangeActive:function(e){this.$emit("update:dialog",e)},onPressPerson:function(e){this.$emit("press-person",e)}},components:{PeopleItems:Z}},he=pe,fe=(n("yr8Z"),Object(u["a"])(he,me,de,!1,null,null,null)),ve=fe.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"photos"},e._l(e.faces,function(t,a){return n("div",{key:a-1,class:{photo:!0,"selected-photo":e.selectedFaces.includes(t)},on:{click:function(n){e.onToggleFace(t)}}},[n("img",{attrs:{src:""+e.apiUrl+t,alt:"People"}})])}))},be=[],ye=n("iv4g"),_e={name:"PhotoGallery",props:{apiUrl:String,faces:Array,selectedFaces:Array},methods:{onToggleFace:function(e){var t=this.selectedFaces.indexOf(e);if(-1!==t){var n=Object(ye["a"])(this.selectedFaces);n.splice(t,1),this.$emit("update:selectedFaces",n)}else this.$emit("update:selectedFaces",Object(ye["a"])(this.selectedFaces).concat([e]))}}},Ce=_e,Pe=(n("KUGM"),Object(u["a"])(Ce,ge,be,!1,null,null,null)),je=Pe.exports,we={getHumanInfo:"modules/human/getHumanInfo",setHumanInfo:"modules/human/setHumanInfo",updateHuman:"modules/human/updateHuman",getFaces:"modules/human/getFaces",setFaces:"modules/human/setFaces",getHuman:"modules/human/getHuman",deleteHuman:"modules/human/deleteHuman",createHuman:"modules/human/createHuman",uploadFace:"modules/human/uploadFace",mergeHuman:"modules/human/mergeHuman",deletePhoto:"modules/human/deletePhoto",resetHuman:"modules/human/resetHuman"},Oe={setHumanInfo:"moudles/human/SET_HUMAN_INFO",setFaces:"moudles/human/SET_FACES",resetHuman:"moudles/human/RESET_HUMAN"},Fe={state:{info:{},humanFaces:[]},mutations:(H={},Object(v["a"])(H,Oe.setHumanInfo,function(e,t){e.info=Object(j["a"])({},e.info,t)}),Object(v["a"])(H,Oe.setFaces,function(e,t){e.humanFaces=t}),Object(v["a"])(H,Oe.resetHuman,function(e){e.info={},e.humanFaces=[]}),H),actions:(k={},Object(v["a"])(k,we.getHumanInfo,function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.getById(n);case 2:return a=e.sent,t.dispatch(we.setHumanInfo,a),e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),Object(v["a"])(k,we.setHumanInfo,function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.commit(Oe.setHumanInfo,n);case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),Object(v["a"])(k,we.getFaces,function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t,n){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x.getFaces(n);case 2:return a=e.sent,t.dispatch(we.setFaces,a),e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),Object(v["a"])(k,we.setFaces,function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.commit(Oe.setFaces,n);case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),Object(v["a"])(k,we.getHuman,function(e,t){return Promise.all([e.dispatch(we.getHumanInfo,t),e.dispatch(we.getFaces,t)])}),Object(v["a"])(k,we.deleteHuman,function(e,t){return x.deleteById(t)}),Object(v["a"])(k,we.updateHuman,function(e,t){return x.updateById(t.humanId,t.data)}),Object(v["a"])(k,we.createHuman,function(e,t){return x.create(t)}),Object(v["a"])(k,we.uploadFace,function(e,t){return x.uploadFace(t.humanId,t.data)}),Object(v["a"])(k,we.mergeHuman,function(e,t){return x.mergeHuman(t.humanId,t.data)}),Object(v["a"])(k,we.deletePhoto,function(e,t){return x.request("delete",t)}),Object(v["a"])(k,we.resetHuman,function(e){e.commit(Oe.resetHuman)}),k),getters:{human:function(e){return e}}},He={name:"Human",data:function(){return{humanLoading:!0,humanFinded:null,snackbar:{show:!1,message:""},selectedFaces:[],confirm:{show:!1,message:"",params:{}},openDialogMembers:!1,name:"",nameUploadTimeout:0,rightMenu:[{value:"deleteMember",label:"Delete Member"}]}},created:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.id,e.prev=1,e.next=4,this.$store.dispatch(we.getHuman,t);case 4:n=e.sent,1===n.type&&this.$store.dispatch(U.getHumans),this.humanFinded=!0,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.humanFinded=!1;case 12:return e.prev=12,this.humanLoading=!1,e.finish(12);case 15:case"end":return e.stop()}},e,this,[[1,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),destroyed:function(){this.$store.dispatch(we.resetHuman)},methods:{onPressBack:function(){this.$router.replace("/")},updateName:function(e){var t=this;if(this.humanName!==e){var n={name:e};this.$store.dispatch(we.setHumanInfo,n),this.nameUploadTimeout&&clearTimeout(this.nameUploadTimeout),this.nameUploadTimeout=setTimeout(function(){t.$store.dispatch(we.updateHuman,{humanId:t.$route.params.id,data:n}),t.snackbar={show:!0,message:"Name saved"}},1e3)}},onPressMenu:function(e){var t=this,n=this.$route.params.id;switch(e){case"deleteMember":this.$store.dispatch(we.deleteHuman,n).then(function(){t.$router.replace("/")});break;default:}},uploadFace:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this.$route.params.id,a=new FormData,a.append("face",t.file),e.next=5,this.$store.dispatch(we.uploadFace,{data:a,humanId:n});case 5:this.snackbar={show:!0,message:"Avatar updated"},this.$store.dispatch(we.getHuman,n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),onPressMember:function(e){var t=e.id,n=[Object(j["a"])({},this.human.info,{name:e.name})];this.confirm={params:{humanId:t,data:n},message:"Merge ".concat(this.human.info.name," into ").concat(e.name),show:!0},this.openDialogMembers=!1},onCancelConfirm:function(){this.confirm={show:!1,message:"",params:{}},this.openDialogMembers=!0},onConfirm:function(){var e=this;this.$store.dispatch(we.mergeHuman,this.confirm.params).then(function(){e.$router.replace("/human/".concat(e.confirm.params.humanId))})},onCancelDropPhotos:function(){this.selectedFaces=[]},onConfirmDropPhotos:function(){var e=this,t=this.selectedFaces.map(function(t){return e.$store.dispatch(we.deletePhoto,t)});Promise.all(t).then(function(){var t=e.$route.params.id;e.$store.dispatch(we.getHuman,t)})}},computed:{human:function(){return this.$store.state.human},apiUrl:function(){return this.$store.getters.apiUrl},humans:function(){return this.$store.getters.humans},humanName:{get:function(){return this.$store.state.human.info.name||""},set:function(e){this.updateName(e)}}},components:{CustomHeader:ae,FileUploader:le,HumanSelectorPopup:ve,PhotoGallery:je}},ke=He,$e=(n("Czqe"),Object(u["a"])(ke,W,Y,!1,null,null,null)),xe=$e.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("md-app",{attrs:{"md-mode":"reveal"}},[n("md-app-toolbar",[n("div",{staticClass:"md-toolbar-row"},[n("custom-header",{attrs:{"is-saving":e.isSaving},on:{"press-cancel":e.onPressCancel,"press-save":e.onPressSave}})],1)]),n("md-app-content",{ref:"content"},[n("div",{staticClass:"md-layout avatar-section"},[n("md-avatar",{staticClass:"large md-avatar-icon",attrs:{id:"human-avatar"}},[n("img",{attrs:{src:e.fileData.fileUri}}),n("div",{staticClass:"upload-control"},[n("file-uploader",{attrs:{text:"add photo"},on:{"load-file":e.onUpload}})],1)])],1),n("div",{staticClass:"md-layout"},[n("div",{staticClass:"md-layout-item"},[n("md-field",[n("label",[e._v("Name")]),n("md-input",{model:{value:e.humanName,callback:function(t){e.humanName=t},expression:"humanName"}})],1)],1)])])],1)},Ie=[],Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"md-toolbar-row"},[n("md-button",{staticClass:"md-primary",on:{click:e.onPressCancel}},[e._v("\n    Cancel\n  ")]),n("div",{staticClass:"md-toolbar-section-end"},[n("md-button",{staticClass:"md-primary",attrs:{disabled:e.isSaving},on:{click:e.onPressSave}},[e._v("\n      Save\n      "),e.isSaving?n("md-progress-spinner",{attrs:{"md-stroke":2,"md-diameter":10,"md-mode":"indeterminate"}}):e._e()],1)],1)],1)},Se=[],Ae={name:"NewHumanHeader",props:{isSaving:Boolean},methods:{onPressCancel:function(){this.$emit("press-cancel")},onPressSave:function(){this.$emit("press-save")}}},Ne=Ae,Ee=Object(u["a"])(Ne,Me,Se,!1,null,null,null),Re=Ee.exports,De={data:function(){return{humanName:"",isSaving:!1,fileData:{file:{},fileUri:""}}},methods:{onUpload:function(e){this.fileData=e},onPressCancel:function(){this.$router.replace("/")},uploadFace:function(e){var t=new FormData;return t.append("face",this.fileData.file),this.$store.dispatch(we.uploadFace,{data:t,humanId:e})},onPressSave:function(){var e=Object(f["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.isSaving=!0,e.next=3,this.$store.dispatch(we.createHuman,{name:this.humanName,type:0});case 3:return t=e.sent,e.next=6,this.uploadFace(t.id);case 6:this.$router.replace("/human/".concat(t.id)),this.isSaving=!1;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},components:{CustomHeader:Re,FileUploader:le}},qe=De,Te=(n("gHf/"),Object(u["a"])(qe,Ue,Ie,!1,null,null,null)),Be=Te.exports;a["default"].use(d["a"]);var Le=new d["a"]({routes:[{path:"/",name:"humans",component:V},{path:"/human/:id",name:"human",component:xe},{path:"/human",name:"newHuman",component:Be}]}),Ge=n("L2JU");a["default"].use(Ge["a"]);var Ze=new Ge["a"].Store({state:{serverInfo:{url:F.url}},mutations:{},actions:{},modules:{humans:M,human:Fe},getters:{apiUrl:function(e){return e.serverInfo.url}}}),Je=n("lIOY");Object(Je["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),a["default"].config.productionTip=!1,a["default"].use(r.a),new a["default"]({router:Le,store:Ze,render:function(e){return e(m)}}).$mount("#app")},ZL7j:function(e,t,n){"use strict";var a=n("slcd"),s=n.n(a);s.a},"buu/":function(e,t,n){},cGcP:function(e,t,n){},"gHf/":function(e,t,n){"use strict";var a=n("Bl70"),s=n.n(a);s.a},jZCP:function(e,t,n){"use strict";var a=n("8R+T"),s=n.n(a);s.a},ltqR:function(e,t,n){"use strict";var a=n("+LvA"),s=n.n(a);s.a},sP3h:function(e,t,n){},slcd:function(e,t,n){},yr8Z:function(e,t,n){"use strict";var a=n("cGcP"),s=n.n(a);s.a}});
//# sourceMappingURL=app.f3465c06.js.map